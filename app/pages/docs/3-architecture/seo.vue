<script setup lang="ts">
    definePageMeta({
        layout: 'docs',
        toc: [
            { id: 'use-seo-meta', label: 'åŸºç¤: useSeoMeta' },
            { id: 'og-explained', label: 'Open Graph (OG) è©³è§£' },
            { id: 'dynamic-seo', label: 'å‹•æ…‹ SEO' },
            { id: 'advanced-head', label: 'é€²éš: useHead' }
        ]
    })

    useHead({
        title: 'SEO è¨­å®š (Meta Tags)',
        meta: [
            { name: 'description', content: 'æŒæ¡ Nuxt 4 çš„ SEO å·¥å…·ï¼šuseSeoMeta èˆ‡ useHeadã€‚è¼•é¬†è¨­å®š Open Graphã€Twitter Cards èˆ‡å‹•æ…‹ Meta æ¨™ç±¤ã€‚' }
        ]
    })
</script>

<template>
    <TutorialPage title="SEO è¨­å®š"
        description="Nuxt å¤©ç”Ÿå° SEO å‹å–„ã€‚é€é SSRï¼Œæœå°‹å¼•æ“å¯ä»¥å®Œç¾è®€å–ä½ çš„å…§å®¹ã€‚è€Œ useSeoMeta å‰‡è®“ç®¡ç† Meta Tags è®Šå¾—å‰æ‰€æœªæœ‰çš„ç°¡å–®ã€‚"
        :badges="[{ label: 'Core', color: 'primary' }, { label: 'Marketing', color: 'neutral' }]">

        <!-- 1. useSeoMeta -->
        <TutorialSection id="use-seo-meta" title="åŸºç¤: useSeoMeta" icon="heroicons:magnifying-glass" separator>
            <p class="mb-6">
                é€™æ˜¯ Nuxt æ¨è–¦çš„è¨­å®šæ–¹å¼ã€‚å®ƒæä¾›äº†<strong>å‹åˆ¥å®‰å…¨ (Type-safe)</strong> çš„ä»‹é¢ï¼Œè®“ä½ ä¸éœ€è¦è¨˜æ†¶ç¹ç‘£çš„ HTML meta æ¨™ç±¤åç¨±ã€‚
                Nuxt æœƒè‡ªå‹•å°‡é€™äº› JavaScript ç‰©ä»¶è½‰æ›ç‚ºæ¨™æº–çš„ HTML <code
                    class="bg-slate-800 px-1 py-0.5 rounded text-slate-300">&lt;meta&gt;</code> æ¨™ç±¤ã€‚
            </p>

            <AppCodeBlock code="<script setup>
useSeoMeta({
  title: 'æˆ‘çš„ Nuxt æ‡‰ç”¨',
  ogTitle: 'æˆ‘çš„ Nuxt æ‡‰ç”¨ - ç¤¾ç¾¤ç‰ˆæ¨™é¡Œ',
  description: 'é€™æ˜¯ä¸€å€‹è¶…ç´šæ£’çš„ç¶²ç«™ï¼Œå¿«ä¾†çœ‹çœ‹ï¼',
  ogDescription: 'é€™æ˜¯ä¸€å€‹è¶…ç´šæ£’çš„ç¶²ç«™ï¼Œå¿«ä¾†çœ‹çœ‹ï¼',
  ogImage: 'https://example.com/image.png',
  twitterCard: 'summary_large_image',
})
</script>" lang="vue" filename="app.vue" />

            <div class="mt-8 p-1 rounded-2xl bg-gradient-to-br from-emerald-500/20 via-slate-800 to-slate-900">
                <div class="rounded-xl bg-slate-950/80 backdrop-blur p-6 sm:p-8">
                    <div class="flex items-center gap-2 mb-6 text-emerald-400">
                        <Icon name="heroicons:sparkles" class="w-5 h-5" />
                        <span class="font-bold text-sm tracking-wider uppercase">Interactive Playground</span>
                    </div>
                    <SeoPreview />
                    <p class="mt-4 text-center text-slate-500 text-sm">
                        ğŸ‘† è©¦è‘—ä¿®æ”¹å·¦å´å…§å®¹ï¼Œè§€å¯Ÿå³å´ Open Graph é è¦½å¡çš„è®ŠåŒ–
                    </p>
                </div>
            </div>
        </TutorialSection>

        <!-- 2. OG Explained -->
        <TutorialSection id="og-explained" title="Open Graph (OG) è©³è§£" icon="heroicons:share" separator>
            <p class="mb-6">
                <strong>Open Graph (OG)</strong> æ˜¯ä¸€ç¨®ç¶²è·¯å”å®šï¼Œæ±ºå®šäº†ç•¶ä½ çš„ç¶²é è¢«åˆ†äº«åˆ° Facebookã€LINEã€Discord æˆ– Slack æ™‚ï¼Œæœƒé¡¯ç¤ºä»€éº¼æ¨£çš„ã€Œå¡ç‰‡ã€ã€‚
                <span class="text-emerald-400">å¦‚æœæ²’æœ‰è¨­å®š OGï¼Œä½ çš„é€£çµåœ¨ç¤¾ç¾¤è»Ÿé«”ä¸­å¯èƒ½åªæœƒé¡¯ç¤ºä¸€ä¸²å†·å†°å†°çš„ç¶²å€ã€‚</span>
            </p>

            <div class="grid md:grid-cols-3 gap-6">
                <div class="md:col-span-2 space-y-4">
                    <div
                        class="flex gap-4 items-start p-4 rounded-xl bg-slate-800/50 border border-slate-700/50 hover:border-indigo-500/50 transition-colors group">
                        <div
                            class="p-2 rounded-lg bg-indigo-500/20 text-indigo-400 group-hover:bg-indigo-500 group-hover:text-white transition-colors">
                            <Icon name="heroicons:photo" class="w-6 h-6" />
                        </div>
                        <div>
                            <h4 class="font-bold text-slate-200 mb-1">og:image (é—œéµ!)</h4>
                            <p class="text-sm text-slate-400">é€™æ˜¯å¡ç‰‡çš„éˆé­‚ã€‚å»ºè­°å°ºå¯¸ <strong>1200x630 px</strong>ã€‚ä¸€å¼µå¥½çš„åœ–ç‰‡èƒ½é¡¯è‘—æå‡é»æ“Šç‡
                                (CTR)ã€‚</p>
                        </div>
                    </div>

                    <div
                        class="flex gap-4 items-start p-4 rounded-xl bg-slate-800/50 border border-slate-700/50 hover:border-sky-500/50 transition-colors group">
                        <div
                            class="p-2 rounded-lg bg-sky-500/20 text-sky-400 group-hover:bg-sky-500 group-hover:text-white transition-colors">
                            <Icon name="heroicons:home-modern" class="w-6 h-6" />
                        </div>
                        <div>
                            <h4 class="font-bold text-slate-200 mb-1">og:title</h4>
                            <p class="text-sm text-slate-400">é€šå¸¸èˆ‡ç¶²é  Title ç›¸åŒï¼Œä½†å¯ä»¥æ›´å…·å¸å¼•åŠ› (Clickbait)ã€‚é€™æ˜¯ä½¿ç”¨è€…ç¬¬ä¸€çœ¼çœ‹åˆ°çš„æ–‡å­—ã€‚</p>
                        </div>
                    </div>

                    <div
                        class="flex gap-4 items-start p-4 rounded-xl bg-slate-800/50 border border-slate-700/50 hover:border-emerald-500/50 transition-colors group">
                        <div
                            class="p-2 rounded-lg bg-emerald-500/20 text-emerald-400 group-hover:bg-emerald-500 group-hover:text-white transition-colors">
                            <Icon name="heroicons:bars-3-bottom-left" class="w-6 h-6" />
                        </div>
                        <div>
                            <h4 class="font-bold text-slate-200 mb-1">og:description</h4>
                            <p class="text-sm text-slate-400">1-2 å¥è©±çš„ç°¡çŸ­æ‘˜è¦ã€‚è£œå……æ¨™é¡Œæ²’èªªå®Œçš„æ•…äº‹ã€‚</p>
                        </div>
                    </div>
                </div>

                <!-- Visual Representation -->
                <div class="relative group">
                    <div
                        class="absolute inset-0 bg-gradient-to-tr from-indigo-500/20 to-purple-500/20 rounded-xl blur-xl group-hover:blur-2xl transition-all">
                    </div>
                    <div
                        class="relative h-full rounded-xl bg-slate-900 border border-slate-700 overflow-hidden flex flex-col shadow-2xl">
                        <!-- Simulated OG Card -->
                        <div
                            class="h-32 bg-slate-800 flex items-center justify-center border-b border-slate-700 relative overflow-hidden">
                            <div class="absolute inset-0 bg-grid-white/[0.05]"></div>
                            <span class="text-slate-500 font-mono text-xs z-10">og:image (1200x630)</span>
                            <div
                                class="absolute top-2 right-2 px-2 py-0.5 rounded bg-black/50 text-[10px] text-white backdrop-blur">
                                1.91:1
                            </div>
                        </div>
                        <div class="p-4 flex-1 bg-slate-900">
                            <div class="h-2 w-20 bg-slate-700 rounded mb-2"></div> <!-- Site name -->
                            <div class="h-4 w-3/4 bg-slate-200 rounded mb-2 font-bold opacity-80"></div>
                            <!-- og:title -->
                            <div class="space-y-1.5 opacity-40">
                                <div class="h-2 w-full bg-slate-400 rounded"></div> <!-- og:desc -->
                                <div class="h-2 w-5/6 bg-slate-400 rounded"></div>
                            </div>
                        </div>
                        <div
                            class="bg-indigo-500/10 p-2 text-center text-xs text-indigo-300 font-medium border-t border-indigo-500/20">
                            ç¤¾ç¾¤åˆ†äº«é è¦½å¡ç‰‡
                        </div>
                    </div>
                </div>
            </div>
        </TutorialSection>

        <!-- 3. Dynamic SEO -->
        <TutorialSection id="dynamic-seo" title="å‹•æ…‹ SEO" icon="heroicons:variable" separator>
            <p class="mb-6">
                åœ¨å¯¦éš›å°ˆæ¡ˆä¸­ï¼ŒSEO è³‡è¨Šé€šå¸¸ä¾†è‡ª API (ä¾‹å¦‚æ–‡ç« æ¨™é¡Œã€ç”¢å“åç¨±)ã€‚
                ä¸ç®¡æ˜¯ <code class="text-emerald-400">useSeoMeta</code> é‚„æ˜¯ <code class="text-emerald-400">useHead</code>
                éƒ½æ”¯æ´éŸ¿æ‡‰å¼è³‡æ–™ã€‚
            </p>

            <div class="grid lg:grid-cols-2 gap-8">
                <AppCodeBlock code="<script setup>
// 1. å¾ API å–å¾—è³‡æ–™
const { data: article } = await useFetch('/api/article/1')

// 2. å‚³å…¥ Getter Function (æ¨è–¦)
useSeoMeta({
  title: () => article.value?.title,
  description: () => article.value?.summary,
  ogImage: () => article.value?.coverImage
})
</script>" lang="vue" filename="pages/articles/[id].vue" />

                <div class="space-y-4">
                    <div class="p-4 rounded-xl bg-amber-500/10 border border-amber-500/20 flex items-start gap-3">
                        <Icon name="heroicons:light-bulb" class="w-5 h-5 text-amber-400 shrink-0 mt-0.5" />
                        <div class="text-sm text-amber-200/80">
                            <strong class="block mb-1 text-amber-400">ç‚ºä»€éº¼è¦ç”¨ç®­é ­å‡½å¼ (Arrow Function)ï¼Ÿ</strong>
                            <p class="mb-2">
                                <code class="font-mono text-amber-300">() => value</code>
                            </p>
                            <p>
                                å› ç‚º <code class="font-mono">useFetch</code> æ˜¯éåŒæ­¥çš„ã€‚ç•¶é é¢å‰›å»ºç«‹æ™‚ï¼Œ<code
                                    class="font-mono">article.value</code> å¯èƒ½æ˜¯ <code class="font-mono">null</code>ã€‚
                                é€éå‡½å¼å‚³éï¼ŒNuxt å¯ä»¥åœ¨è³‡æ–™è¼‰å…¥å®Œæˆå¾Œï¼Œ<strong>è‡ªå‹•é‡æ–°è¨ˆç®— (Re-evaluate)</strong> ä¸¦æ›´æ–° Meta Tagsã€‚
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </TutorialSection>

        <!-- 4. Advanced Head (Restructured) -->
        <TutorialSection id="advanced-head" title="é€²éš: useHead" icon="heroicons:code-bracket-square">
            <AppWindow title="useSeoMeta vs useHead" class="mb-8">
                <ul class="divide-y divide-slate-800 text-sm">
                    <li class="p-4 flex gap-4 hover:bg-slate-800/50 transition-colors">
                        <div class="w-32 shrink-0 font-bold text-emerald-400">useSeoMeta</div>
                        <div class="text-slate-400">
                            å°ˆæ³¨æ–¼ <strong class="text-slate-200">å…§å®¹ (Content)</strong>ã€‚åŒ…å« Title, Description, Open Graph,
                            Twitter Cardsã€‚
                            <span class="block mt-1 text-xs text-slate-500">âœ… 90% çš„æƒ…æ³ä¸‹ä½ åªéœ€è¦é€™å€‹ã€‚</span>
                        </div>
                    </li>
                    <li class="p-4 flex gap-4 hover:bg-slate-800/50 transition-colors">
                        <div class="w-32 shrink-0 font-bold text-blue-400">useHead</div>
                        <div class="text-slate-400">
                            å°ˆæ³¨æ–¼ <strong class="text-slate-200">çµæ§‹èˆ‡è³‡æº (Structure & Assets)</strong>ã€‚
                            åŒ…å«è¼‰å…¥å¤–éƒ¨ Script (GA, GTM)ã€CSS æ¨£å¼ã€JSON-LD çµæ§‹åŒ–è³‡æ–™ã€Body å±¬æ€§ (class, attrs)ã€‚
                        </div>
                    </li>
                </ul>
            </AppWindow>

            <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                <Icon name="heroicons:beaker" class="w-5 h-5 text-blue-400" />
                å¸¸è¦‹æ‡‰ç”¨æƒ…å¢ƒ
            </h3>

            <!-- Use Case 1: Scripts -->
            <div class="space-y-6">
                <div>
                    <h4 class="text-sm font-bold text-slate-300 mb-2">1. è¼‰å…¥å¤–éƒ¨è…³æœ¬ (Script) èˆ‡æ¨£å¼ (Link)</h4>
                    <p class="text-sm text-slate-400 mb-3">ä¾‹å¦‚ï¼šè¼‰å…¥ Google Analyticsã€å­—å‹æª”ã€æˆ– Canonical URLã€‚</p>
                    <AppCodeBlock code="useHead({
  // è¨­å®š HTML å±¬æ€§ (å¦‚èªè¨€)
  htmlAttrs: { lang: 'zh-TW' },
  // è¼‰å…¥å¤–éƒ¨ Script
  script: [
    {
      src: 'https://www.googletagmanager.com/gtag/js?id=G-XXXXX',
      async: true, // éåŒæ­¥è¼‰å…¥ï¼Œä¸é˜»å¡æ¸²æŸ“
      tagPosition: 'bodyClose' // æ§åˆ¶æ¨™ç±¤ä½ç½® (head | bodyOpen | bodyClose)
    }
  ],
  // è¼‰å…¥ CSS æˆ–è¨­å®š Canonical
  link: [
    { rel: 'canonical', href: 'https://example.com/current-page' },
    { rel: 'icon', type: 'image/png', href: '/favicon.png' }
  ]
})" lang="ts" />
                </div>

                <!-- Use Case 2: JSON-LD -->
                <div>
                    <h4 class="text-sm font-bold text-slate-300 mb-2">2. çµæ§‹åŒ–è³‡æ–™ (JSON-LD)</h4>
                    <p class="text-sm text-slate-400 mb-3">é€™å° Google æœå°‹çµæœçš„ Rich Snippets éå¸¸é‡è¦ã€‚</p>
                    <AppCodeBlock code="useHead({
  script: [
    {
      type: 'application/ld+json',
      children: JSON.stringify({
        '@context': 'https://schema.org',
        '@type': 'Article',
        headline: article.value?.title,
        datePublished: article.value?.publishedAt,
        author: [{ '@type': 'Person', name: 'Nuxt Expert' }]
      })
    }
  ]
})" lang="ts" />
                </div>
            </div>
        </TutorialSection>

    </TutorialPage>
</template>
